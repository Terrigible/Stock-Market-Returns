!function(){function e(e,i){var s=this.$container;MOD.UI.Loading.show(s),this.ajax&&this.ajax.abort(),this.ajax=$.ajax({url:MOD.Common.resolveUrl("~/equities/ajax/get-historical-prices"),data:{startDate:i.fromDate,endDate:i.toDate,symbol:this.symbol}}).done($.proxy(t,this)).fail(function(e){"abort"!=e.statusText&&new MOD.UI.Alert}).always(function(){MOD.UI.Loading.hide(s)})}function t(e){if(e.html){var t=this.freezepane;t.disable(),this.$container.find(".mod-tearsheet-historical-prices__results tbody").html(e.html),this.$container.find(".mod-tearsheet-historical-prices__message").css("display","none"),this.$container.find(".mod-tearsheet-historical-prices__results").css("display","table"),t.enable()}else this.$container.find(".mod-tearsheet-historical-prices__results").css("display","none"),this.$container.find(".mod-tearsheet-historical-prices__message").css("display","block")}var i=function(e){var t=$(e);t.length&&this.init(t)};i.prototype.init=function(e){var t=JSON.parse(e.attr("data-mod-config"));new MOD.UI.HistoricalPrices(e,t.inception),this.freezepane=new MOD.FreezePaneTable(e.find(".mod-ui-table--freeze-pane__container"),1),this.$container=e,this.symbol=t.symbol,this.bindEvents(e)},i.prototype.bindEvents=function(t){t.on(MOD.UI.BaseFilterOverlay.FILTER_CHANGE_EVENT,$.proxy(e,this))},MOD.HistoricalPricesApp=i}();